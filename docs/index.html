<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>txda-webframe-helper</title><meta name="description" content="Documentation for txda-webframe-helper"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">txda-webframe-helper</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> txda-webframe-helper</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#torx-design-analyze-webframe-helper" id="torx-design-analyze-webframe-helper" style="color: inherit; text-decoration: none;">
  <h1>Torx Design-Analyze Webframe Helper</h1>
</a>

<a href="#outline" id="outline" style="color: inherit; text-decoration: none;">
  <h2>Outline</h2>
</a>
<p>Web pages and applications can be embedded within Torx Design-Analyze through a configurable <code>webframe</code> plugin.
Embedded applications can exchange data with Torx Design-Analyze through a secure messaging channel within the browser.
This helper library is designed to make it easy to connect an application embedded within a Torx Design-Analyze <code>webframe</code> to
the parent Torx Design-Analyze application, and exchange data between the applications.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>

<a href="#builds" id="builds" style="color: inherit; text-decoration: none;">
  <h3>Builds</h3>
</a>
<p>There are two builds of the library available:</p>

<a href="#iife-build" id="iife-build" style="color: inherit; text-decoration: none;">
  <h4>IIFE build</h4>
</a>
<p>The IIFE build is in the <code>dist</code> folder of this repository, and can be included in a webpage in a <code>script</code> tag, loading <code>txda-webframe-helper.min.js</code>:</p>
<pre><code class="language-html"><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-2"> </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;path/to/txda-webframe-helper.min.js&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code></pre>
<p>As an alternative to hosting the script, it can be loaded from a CDN, for example:</p>
<pre><code class="language-html"><span class="hl-0">&lt;</span><span class="hl-1">script</span><br/><span class="hl-2"> </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;https://cdn.jsdelivr.net/gh/torx-software/txda-webframe-helper@0246699/dist/txda-webframe-helper.min.js&quot;</span><br/><span class="hl-2"> </span><span class="hl-3">integrity</span><span class="hl-2">=</span><span class="hl-4">&quot;sha384-Lm7cXXN8qC7E77e1aYvw9T15+cqTQxsOj5P/VEYVIBRqgaeVt6Ylhv5vij4crTnw&quot;</span><br/><span class="hl-2"> </span><span class="hl-3">crossorigin</span><span class="hl-2">=</span><span class="hl-4">&quot;anonymous&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code></pre>
<p>The above example references a specific commit. To update to a new version, replace the <code>@d008f3c</code> with the version (commit, or release tag) that you wish to use. The <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">subresource integrity</a> hash will need to be updated.</p>
<p>When loaded, the script provides a <code>window</code> global object <code>txdaWebframeHelper</code>. See <a href="#establishing-a-connection-to-torx-design-analyze">the section below</a> for usage.</p>
<p>An example can be found in the source of the <a href="https://github.com/torx-software/txda-webframe-helper/blob/master/demo/index.html">demonstration page</a>.</p>

<a href="#es-module-build" id="es-module-build" style="color: inherit; text-decoration: none;">
  <h4>ES module build</h4>
</a>
<p>The ES module build is in the <code>esm</code> folder of this repository, and can be used when integrating with a bundled application using ES6+ modules. To use the ESM build, install the package from GitHub, replacing the <code>#commit-hash</code> at the end of the URI with the desired version:</p>
<p>NPM:</p>
<pre><code><span class="hl-5">npm</span><span class="hl-6"> </span><span class="hl-5">install</span><span class="hl-6"> --</span><span class="hl-5">save</span><span class="hl-6"> </span><span class="hl-5">git</span><span class="hl-6">+</span><span class="hl-7">https</span><span class="hl-6">:</span><span class="hl-8">//github.com/torx-software/txda-webframe-helper.git#d008f3c</span>
</code></pre>
<p>Yarn:</p>
<pre><code class="language-shell"><span class="hl-6">yarn add git+https://github.com/torx-software/txda-webframe-helper.git#d008f3c</span>
</code></pre>
<p>Or the repository can be added directly to a <code>package.json</code>, followed by <code>npm install</code> or <code>yarn</code>:</p>
<pre><code class="language-json"><span class="hl-6">  </span><span class="hl-9">&quot;dependencies&quot;</span><span class="hl-6">: {</span><br/><span class="hl-6">    </span><span class="hl-10">&quot;txda-webframe-helper&quot;</span><span class="hl-6">: </span><span class="hl-9">&quot;git+https://github.com/torx-software/txda-webframe-helper.git#d008f3c&quot;</span><br/><span class="hl-6">  }</span>
</code></pre>
<p>The ES module build is shipped with TypeScript declaration files, which provides type safety if your project uses TypeScript, and autocompletion in TypeScript and JavaScript projects in supported text editors such as Visual Studio Code.</p>
<p>See <a href="#establishing-a-connection-to-torx-design-analyze">the section below</a> for usage.</p>

<a href="#establishing-a-connection-to-torx-design-analyze" id="establishing-a-connection-to-torx-design-analyze" style="color: inherit; text-decoration: none;">
  <h3>Establishing a connection to Torx Design-Analyze</h3>
</a>
<p>A single function, <a href="https://torx-software.github.io/txda-webframe-helper/docs/modules/index.html#initialize"><code>initialize</code></a>, is provided to initiate a connection with Torx Design-Analyze:</p>
<ul>
<li>IIFE build: available as <code>window.txdaWebframeHelper.initialize</code></li>
<li>ES module build: importable with <code>import { initialize } from &#39;txda-webframe-helper/esm&#39;</code></li>
</ul>
<p><a href="https://torx-software.github.io/txda-webframe-helper/docs/modules/index.html#initialize"><code>initialize</code></a> returns a <code>Promise</code> that resolves to a <a href="https://torx-software.github.io/txda-webframe-helper/docs/interfaces/types.TXDAConnection.html"><code>TXDAConnection</code></a> object. <a href="https://torx-software.github.io/txda-webframe-helper/docs/interfaces/types.TXDAConnection.html"><code>TXDAConnection</code></a> can be used to set up event listeners for incoming data, and call methods to send requests to Torx Design-Analyze. Full details of supported listeners and methods are available in the <a href="https://torx-software.github.io/txda-webframe-helper/docs/interfaces/types.TXDAConnection.html">documentation</a>. See the <a href="https://github.com/torx-software/txda-webframe-helper/blob/master/demo/index.html">example demonstration page</a> for a worked example.</p>

<a href="#embedding-in-torx-design-analyze" id="embedding-in-torx-design-analyze" style="color: inherit; text-decoration: none;">
  <h3>Embedding in Torx Design-Analyze</h3>
</a>
<p>To configure your application to be embedded in an <code>iframe</code> in Torx Design-Analyze, add a <code>webframe</code> plugin configuration in the Control Panel with the following configuration:</p>
<pre><code class="language-json"><span class="hl-6">{</span><br/><span class="hl-6">  </span><span class="hl-10">&quot;url&quot;</span><span class="hl-6">: </span><span class="hl-9">&quot;https://your-service.com&quot;</span><span class="hl-6">,</span><br/><span class="hl-6">  </span><span class="hl-10">&quot;messagingEnabled&quot;</span><span class="hl-6">: </span><span class="hl-11">true</span><br/><span class="hl-6">}</span>
</code></pre>

<a href="#required-security-practices-when-embedding" id="required-security-practices-when-embedding" style="color: inherit; text-decoration: none;">
  <h4>Required security practices when embedding</h4>
</a>
<ul>
<li>Services embedded in Torx Design-Analyze must be served over HTTPS, as this is a browser requirement to prevent loading <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content">mixed active content</a>. Depending on the browser, <code>localhost</code> may be an exception during development.</li>
<li>Pages embedded in Torx Design-Analyze should have a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors"><code>frame-ancestors</code></a> Content Security Policy (CSP) header set to only allow embedding in the desired Torx Design-Analyze install. This header ensures that the page cannot be embedded in another page impersonating a Torx Design-Analyze install.</li>
</ul>

<a href="#demo" id="demo" style="color: inherit; text-decoration: none;">
  <h2>Demo</h2>
</a>
<p>A publicly available example page is available to show an example of integration. The source code for this example page is available <a href="https://github.com/torx-software/txda-webframe-helper/blob/master/demo/index.html">on GitHub</a>. No data are transferred outside of the example page, neverless use of this demonstration integration is not recommended or supported in use with production data and no security assumptions should be made when using it.</p>
<p>To configure in Torx Design-Analyze, add a <code>webframe</code> plugin configuration in the Control Panel with the following configuration:</p>
<pre><code class="language-json"><span class="hl-6">{</span><br/><span class="hl-6">  </span><span class="hl-10">&quot;url&quot;</span><span class="hl-6">: </span><span class="hl-9">&quot;https://torx-software.github.io/txda-webframe-helper&quot;</span><span class="hl-6">,</span><br/><span class="hl-6">  </span><span class="hl-10">&quot;messagingEnabled&quot;</span><span class="hl-6">: </span><span class="hl-11">true</span><br/><span class="hl-6">}</span>
</code></pre>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p>Full TypeScript documentation for this helper library is available on <a href="https://torx-software.github.io/txda-webframe-helper/docs/">GitHub pages</a>.</p>

<a href="#notices" id="notices" style="color: inherit; text-decoration: none;">
  <h2>Notices</h2>
</a>
<p>Copyright © 2021 Torx Software Ltd</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/index.html">index</a></li><li class=" tsd-kind-module"><a href="modules/types.html">types</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>